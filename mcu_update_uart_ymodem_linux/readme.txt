一、初始版本 2023-04-12
1. 考虑到多台设备升级，需要开盖的问题，考虑从3399升级单片机的功能。
2. 前提是单片机与rk3399有串口通信接口（iic的还在计划中，准备也搞一下）。
3. 本程序主要是发送文件，然后单片机接收后完成升级功能。
4. 目前能够进行下载测试，但是似乎不是很稳定，有时候会失败。
5. 程序编译命令aarch64-linux-gnu-gcc *.c -o xyzmodem_send  因为是rk3399平台使用，所以使用了交叉编译
6. 运行：./xyzmodem_send -f app.bin    -f 是指定下载的文件名。


二、继续改进 2023-04-24
1.两步走，第一次下发升级命令，单片机主动上传md5码，app收到md5后，核对与之对应文件的md5值，不一致则继续升级，一致则退出
   需要继续升级，则再次发送升级确认命令，进入升级模式，单片机重启进入iap程序。
2.如何与drv722_22134_server共同使用ttyS0串口的问题，之前是想直接kill掉这个进程，但是有可能会影响客户进程存亡。
  又重新制作了限制drv722_22134_server使用串口的api接口，待验证。
3.修复md5传递时的一个小bug
4.还需要多次验证。确保升级能够成功。


三、继续改进 2023-04-26
1.基本能稳定升级了，但是串口不能受到其他软件的干扰。


四、 2023-04-27
1.调试串口也可以正常升级了，主要是文件大小的数字后面还是需要用一个空格进行分离，使用secureCRT可以正常升级。
2.调试串口下载的没有md5码，所以单片机中是不会有md5的记录的。
3.通讯串口因为我自己修改了，增加了md5的传输。所以最大文件名不能超过64字节（包含结尾符），最大文件长度不能超过16字节（包含结尾符）


五、修改为dg屏的升级程序



六、2023-06-28
1.需要修改升级的方法，不再依赖md5文件的校验，因为bin文件中存在md5值，目前没有单片机，没有修改该程序。





